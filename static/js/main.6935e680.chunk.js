(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{13:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var c=a(1),i=a.n(c),s=a(7),n=a.n(s),o=(a(13),a(8)),l=a(2),r=a(3),d=a(5),u=a(4),b=a(0),v=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={WillWatch:!1},e}return Object(r.a)(a,[{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,a=t.movie,c=t.removeMovie,i=t.addMovieToWillWatch,s=t.removeMovieFromWillWatch;return Object(b.jsxs)("div",{className:"card",children:[Object(b.jsx)("img",{className:"card-img-top",src:"https://image.tmdb.org/t/p/w500".concat(a.backdrop_path),alt:""}),Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h6",{className:"card-title",children:a.title}),Object(b.jsxs)("div",{className:"d-flex flex-column",children:[Object(b.jsxs)("p",{className:"mb-4",children:["Rating: ",a.vote_average]}),Object(b.jsxs)("div",{className:"d-flex justify-content-between",children:[!0===this.state.WillWatch?Object(b.jsx)("button",{type:"button",className:"btn btn-success",onClick:function(){e.setState({WillWatch:!1}),s(a)},children:"Remove Will Watch"}):Object(b.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){e.setState({WillWatch:!0}),i(a)},children:"Add Will Watch"}),Object(b.jsx)("button",{type:"button",className:"btn btn-outline-danger",onClick:c.bind(null,a),children:"Delete movie"})]})]})]})]})}}]),a}(i.a.Component),j=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"componentWillReceiveProps",value:function(){}},{key:"shouldComponentUpdate",value:function(e,t){return e.sort_by!==this.props.sort_by}},{key:"render",value:function(){var e=this.props,t=e.sort_by,a=e.updateSortBy,c=function(e){return function(){return a(e)}},i=function(e){return"nav-link ".concat(t===e?"active":"")};return Object(b.jsxs)("ul",{className:" tabs nav nav-pills",children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)("div",{className:i("popularity.desc"),onClick:c("popularity.desc"),children:"Popularity desc"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)("div",{className:i("revenue.desc"),onClick:c("revenue.desc"),children:"Revenue desc"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)("div",{className:i("vote_average.desc"),onClick:c("vote_average.desc"),children:"Vote average desc"})})]})}}]),a}(i.a.Component),m=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.pageNumber,a=e.goToPage,c=e.goToNextPage,i=e.goToPrevPage,s=(e.totalPages,function(e){return function(){return a(e)}}),n=function(e){return"page-item ".concat(t===e?"active":"")};return Object(b.jsxs)("ul",{className:"pag pagination",children:[Object(b.jsx)("li",{className:1===t?"page-item disabled":"page-item",children:Object(b.jsx)("div",{className:"page-link",onClick:function(e){if(e>=2)return function(){return i()}}(t),children:"Previos"})}),Object(b.jsx)("li",{className:n(1),children:Object(b.jsx)("div",{className:"page-link",onClick:s(1),children:"1"})}),Object(b.jsx)("li",{className:n(2),children:Object(b.jsx)("div",{className:"page-link",onClick:s(2),children:"2"})}),Object(b.jsx)("li",{className:n(3),children:Object(b.jsx)("div",{className:"page-link",onClick:s(3),children:"3"})}),Object(b.jsx)("li",{className:n(4),children:Object(b.jsx)("div",{className:"page-link",onClick:s(4),children:"4"})}),Object(b.jsx)("li",{className:n(5),children:Object(b.jsx)("div",{className:"page-link",onClick:s(5),children:"5"})}),Object(b.jsx)("li",{className:5===t?"page-item disabled":"page-item",children:Object(b.jsx)("div",{className:"page-link",onClick:function(e){if(e<=5)return function(){return c()}}(t),children:"Next"})})]})}}]),a}(i.a.Component),h=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).getMovies=function(){fetch("".concat("https://api.themoviedb.org/3","/discover/movie?api_key=").concat("1b3cd6ec78a3cd39b24c46bb856d3b41","&sort_by=").concat(e.state.sort_by,"&page=").concat(e.state.pageNumber)).then((function(e){return e.json()})).then((function(t){e.setState({movies:t.results,totalPages:t.totalPages})}))},e.removeMovie=function(t){var a=e.state.movies.filter((function(e){return e.id!==t.id}));e.setState({movies:a})},e.addMovieToWillWatch=function(t){var a=[].concat(Object(o.a)(e.state.moviesWillWatch),[t]);e.setState({moviesWillWatch:a})},e.removeMovieFromWillWatch=function(t){var a=e.state.moviesWillWatch.filter((function(e){return e.id!==t.id}));e.setState({moviesWillWatch:a})},e.updateSortBy=function(t){e.setState({sort_by:t})},e.goToPage=function(t){e.setState({pageNumber:t})},e.goToNextPage=function(){var t=e.state.pageNumber;e.setState({pageNumber:++t})},e.goToPrevPage=function(){var t=e.state.pageNumber;e.setState({pageNumber:--t})},e.state={movies:[],moviesWillWatch:[],sort_by:"popularity.desc",pageNumber:1,totalPages:0},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.getMovies()}},{key:"componentDidUpdate",value:function(e,t){t.sort_by!==this.state.sort_by&&this.getMovies(),t.pageNumber!==this.state.pageNumber&&this.getMovies()}},{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{className:"container mt-4",children:[Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-9",children:[Object(b.jsx)("div",{className:"row mb-4",children:Object(b.jsx)("div",{className:"col-12",children:Object(b.jsx)(j,{sort_by:this.state.sort_by,updateSortBy:this.updateSortBy})})}),Object(b.jsx)("div",{className:"row",children:this.state.movies.map((function(t){return Object(b.jsx)("div",{className:"col-6 mb-4",children:Object(b.jsx)(v,{movie:t,removeMovie:e.removeMovie,addMovieToWillWatch:e.addMovieToWillWatch,removeMovieFromWillWatch:e.removeMovieFromWillWatch})},t.id)}))})]}),Object(b.jsx)("div",{className:"col-3",children:Object(b.jsxs)("p",{children:["Will Watch : ",this.state.moviesWillWatch.length]})})]}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-3",children:Object(b.jsx)(m,{pageNumber:this.state.pageNumber,goToPage:this.goToPage,goToNextPage:this.goToNextPage,goToPrevPage:this.goToPrevPage,totalPages:this.state.totalPages})})})]})}}]),a}(i.a.Component),p=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,17)).then((function(t){var a=t.getCLS,c=t.getFID,i=t.getFCP,s=t.getLCP,n=t.getTTFB;a(e),c(e),i(e),s(e),n(e)}))},g=(a(15),document.getElementById("root"));n.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(h,{})}),g),p()}},[[16,1,2]]]);
//# sourceMappingURL=main.6935e680.chunk.js.map